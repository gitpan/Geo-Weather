NAME
    Geo::Weather - Weather retrieval module

SYNOPSIS
      use Geo::Weather;

      my $weather = new Geo::Weather;

      $weather->get_weather('Folsom','CA');

      print $weather->report();

      -or-

      use Geo::Weather;

      my $weather = new Geo::Weather;
      $weather->{timeout} = 5; # set timeout to 5 seconds instead of the default of 10
 
      my $current = $weather->get_weather('95630');

      print "The current temperature is $current->{temp} degrees\n";

DESCRIPTION
    The Geo::Weather module retrieves the current weather from weather.com
    when given city and state or a US zip code

FUNCTIONS
    * new
        Create and return a new object.

    * get_weather
        Gets the current weather from weather.com

        Arguments

                city - US city or zip code
                state - US state, not needed if using zip code

        Sample Code

                my $current = $weather->get_weather('Folsom','CA');
                if (!ref $current) {
                        die "Unable to get weather information\n";
                }

        Returns

                On sucess, get_weather returns a hashref  containing the following keys

                city            - City
                state           - State
                pic             - weather.com URL to the current weather image
                url             - Weather.com URL to the weather results
                cond            - Current condition
                temp            - Current temperature (degees F)
                wind            - Current wind speed
                dewp            - Current dew point (degrees F)
                humi            - Current rel. humidity
                visb            - Current visibility
                baro            - Current barometric pressure
                heat            - Current heat index (Feels Like string)

                On error, it returns the following exported error variables

        Errors

                $ERROR_QUERY            - Invalid data supplied
                $ERROR_PAGE_INVALID     - No URL, or incorrectly formatted URL for retrieving the information
                $ERROR_CONNECT          - Error connecting to weather.com
                $ERROR_NOT_FOUND        - Weather for the specified city/state or zip could not be found
                $ERROR_TIMEOUT          - Timed out while trying to connect or get data from weather.com

    * report
        Returns an HTML table containing the current weather. Must call
        get_weather first.

        Sample Code

                print $weather->report();

    * lookup
        Gets current weather given a full weather.com URL

        Sample Code

                my $current = $weather->lookup('http://www.weather.com/weather/cities/us_ca_folsom.html');

        Returns

                On sucess, lookup returns a hashref with the same keys as the get_weather function

                On error, lookup returns the same errors defined for get_weather

OBJECT KEYS
    There are several object hash keys that can be set to manipulate how
    Geo::Weather works. The hash keys should be set directly following
    `new'.

    Below is a list of each key and what it does:

    * debug
    Enable debug output of the connection attempts to weather.com

    * timeout
    Controls the timeout, in seconds, when trying to connect to or get data
    from weather.com. Default timeout is 10 seconds.

AUTHOR
     Geo::Weather was wrtten by Mike Machado I<E<lt>mike@innercite.comE<gt>>

